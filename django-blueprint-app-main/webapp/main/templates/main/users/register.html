<!-- main/templates/main/users/register.html -->
<h2>Rejestracja</h2>

<!-- Wyświetlanie błędów -->
{% if messages %}
    <div class="alert alert-danger">
        <ul>
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        </ul>
    </div>
{% endif %}

<form method="post">
    {% csrf_token %}
    
    <label for="username">Nazwa użytkownika:</label>
    {{ form.username }}
    {% if form.username.errors %}
        <div class="errors">
            {% for error in form.username.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}
    
    <label for="email">Email:</label>
    {{ form.email }}
    {% if form.email.errors %}
        <div class="errors">
            {% for error in form.email.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <label for="password1">Hasło:</label>
    {{ form.password1 }}
    {% if form.password1.errors %}
        <div class="errors">
            {% for error in form.password1.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <label for="password2">Potwierdź hasło:</label>
    {{ form.password2 }}
    {% if form.password2.errors %}
        <div class="errors">
            {% for error in form.password2.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <button type="submit">Zarejestruj się</button>
</form>

<p>Masz już konto? <a href="{% url 'login_user' %}">Zaloguj się</a></p>